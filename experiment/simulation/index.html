<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="./css/main.css">
	<script src="https://unpkg.com/mathjs@11.2.1/lib/browser/math.js"></script>
	<script src="https://cdn.plot.ly/plotly-1.35.2.min.js"></script>
  	<title>Experiment-4 Simulation</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
	  crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/virtual-labs/virtual-style@0.0.8-b/css/style.min.css">

</head>

<body>

	<div class="columns is-centered">
        <div class="column is-one-quarter v-instruction-title">
            Tasks
        </div>
        <div class="column">
            <div class="tab">
                <button class="tablinks" onclick="openPart(event, 'PT')", id="default">Visualize and Listen</button>
                <button class="tablinks" onclick="openPart(event, 'WIN')">Envelope</button>
				<button class="tablinks" onclick="openPart(event, 'HAR')">Harmonics</button>
				<button class="tablinks" onclick="openPart(event, 'PLA')">Play Notes</button>
            </div>
        </div>
    </div>

	<div id="PT" class="tabcontent">
		<section class="imp" id="listen">
			<div class="max-width">
				<h2 class="title">Plot and Listen to Tones</h2>
				<div class="columns is-centered">
					<div class="v-collapsible-instruction-container v-instruction-container">
						<div class="v-collapsible is-size-5">Instructions</div>
						<div class="v-content" style="text-align: left; padding-left: 10%; padding-right: 10%;">
							<ol> 
								<li> Select the sampling frequency in the drop down provided. </li>
								<li> Enter the value for tone frequency. </li>
								<li> Enter the volume for the tone. </li>
								<li> Click on Listen button to visualize the plot in the figure and listen to the tone. </li>
							</ol>
							<br>
							<br>
							<h3> If the sampling frequency is X, try listening to tone frequency of X/2. Why does this happen?
							</h3>
							<br>
							<h3> If the sampling frequency is X, and tone frequency is Y, try listening to tone frequencies Y and X-Y. Why does this happen?
							</h3>
						</div>
					</div>
				</div>

				<div class="columns is-centered is-flex-direction-row is-flex-wrap-wrap is-align-content-start"
			style="margin-top:-1.5%">
			<div class="column is-4-desktop is-8-tablet is-6-mobile">
				<div class="box-question">

					<div class="box">
						<select id="boxSec11">
						  <option value="1">8000</option>
						  <option value="2">16000</option>
						  <option value="3">32000</option>
						  <option value="4">44100</option>
						  <option value="5">48000</option>
						  <option value="6">88200</option>
						  <option value="7">96000</option>
						</select>
					</div>
					<div class="fill2"> Tone Frequency: &emsp; <input type=number id="fillSec12" value=500 step=0.5> </div>
					<div class="fill2"> Volume: &emsp; <input type=number id="fillSec13" value=0.5 step=0.5> </div>
					<button class="button1" id="buttonSec11" role="button" onClick="playTone()">Listen</button>
				</div>
			</div>

			<div class="column is-8-desktop is-4-tablet is-12-mobile">
				<div class="box-question">
					<div class="v-datalist-title">Observations</div>
					<div id="observations1">
						<div id='figure1'></div>
					</div>
				</div>
			</div>
		</div>

		</section>
	</div>

	<div id="HAR" class="tabcontent">
		<section class="sys" id="notes">
			<div class="max-width">
				<h2 class="title">Generate and Listen to Harmonics</h2>
				<div class="columns is-centered">
					<div class="v-collapsible-instruction-container v-instruction-container">
						<div class="v-collapsible is-size-5">Instructions</div>
						<div class="v-content" style="text-align: left; padding-left: 10%; padding-right: 10%;">
							<ol> 
								<li> Select the envelope (either ADSR, Rectangular or Exponential Decay) in the drop down provided. </li>
								<li> Enter the value for fundamental frequency. </li>
								<li> Enter the harmonic numbers to be combined. </li>
								<li> Enter the corresponding volumes for each harmonic number. </li>
								<li> Click on Listen button to visualize the plot for the note in the figure and listen to it. </li>
							</ol>
							<br>
						</div>
					</div>
				</div>

				<div class="columns is-centered is-flex-direction-row is-flex-wrap-wrap is-align-content-start"
			style="margin-top:-1.5%">
			<div class="column is-4-desktop is-8-tablet is-6-mobile">
				<div class="box-question">

					<div class="box">
						<select id="boxSec21">
						  <option value="1">ADSR</option>
						  <option value="2">Rectangular</option>
						  <option value="3">Exponential Decay</option>
						</select>
					</div>
					<div class="fill1"> Fundamental Frequency &emsp; <input type=number id="fillSec21" value=500 step=0.5> </div>
					<div class="fill2"> Harmonics &emsp; <input type=text id="fillSec22" value=1,2,3,4,5 step=0.5> </div>
					<div class="fill2"> Amplitudes &emsp; <input type=text id="fillSec23" value=0.1,0.1,0.1,0.1,0.1 step=0.5> </div>
					<button class="button1" id="buttonSec21" role="button" onClick="harmonics()">Listen</button>
				</div>
			</div>

			<div class="column is-8-desktop is-4-tablet is-12-mobile">
				<div class="box-question">
					<div class="v-datalist-title">Observations</div>
					<div id="observations2">
						<div id='figure2'></div>
					</div>
				</div>
			</div>
		</div>

		</section>
	</div>

	<div id="WIN" class="tabcontent">
		<section class="imp" id="window">
			<div class="max-width">
				<h2 class="title">Plot and Listen to Tones</h2>
				<div class="columns is-centered">
					<div class="v-collapsible-instruction-container v-instruction-container">
						<div class="v-collapsible is-size-5">Instructions</div>
						<div class="v-content" style="text-align: left; padding-left: 10%; padding-right: 10%;">
							<ol> 
								<li> Select the envelope (either ADSR, Rectangular or Exponential Decay) in the drop down provided. </li>
								<li> Enter the value for tone frequency. </li>
								<li> Enter the volume for the tone. </li>
								<li> Click on Listen button to visualize the plot for the envelope in the figure and listen to the tone masked under that envelope. </li>
							</ol>
							<br>
						</div>
					</div>
				</div>

				<div class="columns is-centered is-flex-direction-row is-flex-wrap-wrap is-align-content-start"
			style="margin-top:-1.5%">
			<div class="column is-4-desktop is-8-tablet is-6-mobile">
				<div class="box-question">

					<div class="box">
						<select id="boxSec41">
						  <option value="1">ADSR</option>
						  <option value="2">Rectangular</option>
						  <option value="3">Exponential Decay</option>
						</select>
					</div>
					<div class="fill2"> Tone Frequency: &emsp; <input type=number id="fillSec41" value=500 step=0.5> </div>
					<div class="fill2"> Volume: &emsp; <input type=number id="fillSec42" value=0.5 step=0.5> </div>
					<button class="button1" id="buttonSec41" role="button" onClick="windowing()">Listen</button>
				</div>
			</div>

			<div class="column is-8-desktop is-4-tablet is-12-mobile">
				<div class="box-question">
					<div class="v-datalist-title">Observations</div>
					<div id="observations3">
						<div id='figure3'></div>
					</div>
				</div>
			</div>
		</div>

		</section>
	</div>

	<div id="PLA" class="tabcontent">
		<section class="mva" id="songs">
			<div class="max-width">
				<h2 class="title">Generate and Listen to Notes</h2>
				<div class="columns is-centered">
						<div class="v-collapsible-instruction-container v-instruction-container">
							<div class="v-collapsible is-size-5">Try it out</div>
							<div class="v-content" style="text-align: left; padding-left: 10%; padding-right: 10%;">
								<h3><b>Instructions</b></h3>
								<br>
								<ul style="list-style: disc;">
									<li>
										Choose the window from the dropdown and listen to them. To add new notes, click on Add note button to fill the corresponding values in the new set of boxes on the right
									</li>
									<li>
										To remove a note, click on the "Remove" button under that specific note
									</li>
									<li>
										For each note, you will require to enter the fundamental frequency, harmonics, their corresponding amplitudes and note duration
									</li>
									<li>
										Enter only one fundamental frequency for that note, multiple harmonics (natural numbers) can be entered in a comma separated manner, and their corresponding amplitudes (in the range 0-1) also can be entered in a comma separated manner and enter only one duration (in seconds) for the note.
									</li>
									<li>
										You can add a maximum of 10 notes
									</li>
								</ul>
								<br>
								<h3> <b> NOTE: Add the necessary number of notes before entering the corresponding values. If you add a new note after entering the values for the previous notes, the previous notes' values get cleared. </b> </h3>
								<br>
								<h3><b>Try these combinations</b></h3>
								<br>
								<ul style="list-style: disc;">
									<li>
										<p><b>Example 1: &emsp; 9 notes</b></p>
									</li>
								</ul>
								<br>
								<h3>
									<table style="width:100%">
										<tr>
											<th>Fundamental Frequency</th>
											<th>Harmonics</th>
											<th>Amplitudes</th>
											<th>Duration</th>
										</tr>
										<tr>
											<td>659.25</td>
											<td>1</td>
											<td>0.7</td>
											<td>0.3</td>
										</tr>
										<tr>
											<td>622.25</td>
											<td>1</td>
											<td>0.7</td>
											<td>0.3</td>
										</tr>
										<tr>
											<td>659.25</td>
											<td>1</td>
											<td>0.7</td>
											<td>0.3</td>
										</tr>
										<tr>
											<td>622.25</td>
											<td>1</td>
											<td>0.7</td>
											<td>0.3</td>
										</tr>
										<tr>
											<td>659.25</td>
											<td>1</td>
											<td>0.7</td>
											<td>0.3</td>
										</tr>
										<tr>
											<td>493.88</td>
											<td>1</td>
											<td>0.7</td>
											<td>0.3</td>
										</tr>
										<tr>
											<td>587.33</td>
											<td>1</td>
											<td>0.7</td>
											<td>0.3</td>
										</tr>
										<tr>
											<td>523.25</td>
											<td>1</td>
											<td>0.7</td>
											<td>0.3</td>
										</tr>
										<tr>
											<td>440.00</td>
											<td>1</td>
											<td>0.7</td>
											<td>0.3</td>
										</tr>
									</table>
								</h3>
								<br>
								<ul style="list-style: disc;">
									<li>
										<b>Example 2: &emsp; 7 notes</b>
									</li>
								</ul>
								<br>
								<h3>
									<table style="width:100%">
										<tr>
											<th>Fundamental Frequency</th>
											<th>Harmonics</th>
											<th>Amplitudes</th>
											<th>Duration</th>
										</tr>
										<tr>
											<td>16.35</td>
											<td>15,20,30</td>
											<td>0.1,0.4,0.5</td>
											<td>0.4</td>
										</tr>
										<tr>
											<td>16.35</td>
											<td>15,20,30</td>
											<td>0.1,0.4,0.5</td>
											<td>0.2</td>
										</tr>
										<tr>
											<td>18.35</td>
											<td>15,20,30</td>
											<td>0.1,0.4,0.5</td>
											<td>0.6</td>
										</tr>
										<tr>
											<td>16.35</td>
											<td>15,20,30</td>
											<td>0.1,0.4,0.5</td>
											<td>0.6</td>
										</tr>
										<tr>
											<td>24.50</td>
											<td>15,20,30</td>
											<td>0.1,0.4,0.5</td>
											<td>0.6</td>
										</tr>
										<tr>
											<td>493.88</td>
											<td>15,20,30</td>
											<td>0.1,0.4,0.5</td>
											<td>0.6</td>
										</tr>
										<tr>
											<td>21.83</td>
											<td>15,20,30</td>
											<td>0.1,0.4,0.5</td>
											<td>0.6</td>
										</tr>
									</table>
								</h3>
								<br>
								<ul style="list-style: disc;">
									<li>
										<b>Example 3: &emsp; 8 notes</b>
									</li>
								</ul>
								<br>
								<table style="width:100%">
										<tr>
											<th>Fundamental Frequency</th>
											<th>Harmonics</th>
											<th>Amplitudes</th>
											<th>Duration</th>
										</tr>
										<tr>
											<td>40</td>
											<td>11,12</td>
											<td>0.5,0.5</td>
											<td>0.5</td>
										</tr>
										<tr>
											<td>1</td>
											<td>1</td>
											<td>0.1</td>
											<td>0.2</td>
										</tr>
										<tr>
											<td>40</td>
											<td>11,12</td>
											<td>0.5,0.5</td>
											<td>0.5</td>
										</tr>
										<tr>
											<td>1</td>
											<td>1</td>
											<td>0.1</td>
											<td>1.5</td>
										</tr>
										<tr>
											<td>40</td>
											<td>11,12</td>
											<td>0.5,0.5</td>
											<td>0.5</td>
										</tr>
										<tr>
											<td>1</td>
											<td>1</td>
											<td>0.1</td>
											<td>0.2</td>
										</tr>
										<tr>
											<td>40</td>
											<td>11,12</td>
											<td>0.5,0.5</td>
											<td>0.5</td>
										</tr>
										<tr>
											<td>1</td>
											<td>1</td>
											<td>0.1</td>
											<td>1.5</td>
										</tr>
								</table>
								<br>
							</div>
						</div>
				</div>

				<div class="columns is-centered is-flex-direction-row is-flex-wrap-wrap is-align-content-start"
			style="margin-top:-1.5%">
			<div class="column is-4-desktop is-8-tablet is-6-mobile">
				<div class="box-question">

					<div class="box1">
						<select id="boxSec31">
						  <option value="1">ADSR</option>
						  <option value="2">Rectangular</option>
						  <option value="3">Exponential Decay</option>
						</select>
					</div>
					<button class="button2" id="buttonSec31" role="button" onClick="add_field()">Add Note</button>
					<button class="button2" id="buttonSec32" role="button" onClick="dynTones()">Listen</button>
				</div>
			</div>

			<div class="column is-8-desktop is-4-tablet is-12-mobile">
				<div class="box-question">
					<div class="v-datalist-title">Notes</div>
					<div id="observations3">
						<div id="wrapper">
							<div id="field_div"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
		</div>

		</section>
	</div>

  <script src="./js/main.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/virtual-labs/virtual-style@0.0.8-b/js/script.js"></script>

</body>

</html>